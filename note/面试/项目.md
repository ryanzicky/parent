### 1. 项目介绍

需求，功能，用户，价值

需求：

关键的解决方案

项目难点

### 2. 项目设计方案

-   登录注册
-   token：存不存，均可
    -   存：便于服务对token进行控制
    -   不存：
        -   不用占用存储空间
        -   便于水平扩缩容
-   网约车乘客叫车，交易撮合，定时轮询。长连接（Netty，WebSocket，sse）
-   MQ：解耦，异步，削峰
-   计价：里程计价，时长计价。夜间。
-   测试：85%，行数，mock
-   消息队列：



### 3. 项目安全

-   用户权限校验
-   验证码（数字，算数，滑块）。OCR中文
-   刷短信，以及付费第三方。多档验证（防止短时间内，多次访问）
-   header里带上设备码imel
-   网络信息
-   黑名单，md5（sha256）加密入库。ip（安全性高，效率低下）。设备号
-   参数放篡改
-   **通过分析使用数据，指定合理的方案，来解决安全问题。**
-   hashcode：没有固定的，手机号，sex，年龄，注册时间。==hashcode
    -   了解hashcode是什么

### 4. 项目性能

1.   同步变异步
2.   加集群
3.   加缓存
4.   加消息队列
5.   大化小

### 5. 项目

1.   项目描述
2.   项目职责
     1.   注册登录：完全，防刷验证码（三挡验证）
3.   项目难点：
     1.   jvm调优
     2.   sql优化
     3.   qps提升
     4.   接口优化（响应时间长（调用链路长，链接数少，代码冗余））

### 6. 中间件

-   缓存中间件：

    1.   jvm：guava（类似于redis：ex，不需要持久），ehcache（持久）

    2.   非jvm：redis，memcached（数据类型单一），（10k以下），es（大量坐标位置计算），MongoDB

         **双写一致性：**

         文件存储中间件：ftp，fastdfs，hdfs；云存储（oss），es

-   



